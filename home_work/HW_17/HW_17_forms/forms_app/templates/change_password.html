{% extends 'base.html' %}
{% load widget_tweaks %}


{% block content %}
  <div class="container mt-5">
    <h2 class="mb-4">Изменение пароля</h2>

    <form method="POST">
      {% csrf_token %}

      <div class="card p-4 shadow-sm">
        <div class="form-group">
          <label for="id_old_password">Старый пароль:</label>
          {{ form.old_password|add_class:"form-control" }}
          {% if form.old_password.errors %}
            <div class="invalid-feedback d-block">
              {% for error in form.old_password.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <div class="form-group mt-3">
          <label for="id_new_password1">Новый пароль:</label>
          {{ form.new_password1|add_class:"form-control" }}
          <small class="form-text text-muted">
            Ваш новый пароль должен содержать хотя бы 8 символов, не быть слишком похожим на вашу личную информацию, не быть общим и не состоять только из цифр.
          </small>
          {% if form.new_password1.errors %}
            <div class="invalid-feedback d-block">
              {% for error in form.new_password1.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <div class="form-group mt-3">
          <label for="id_new_password2">Подтвердите новый пароль:</label>
          {{ form.new_password2|add_class:"form-control" }}
          <small class="form-text text-muted">
            Введите тот же пароль, что и в поле выше, для подтверждения.
          </small>
          {% if form.new_password2.errors %}
            <div class="invalid-feedback d-block">
              {% for error in form.new_password2.errors %}
                <p>{{ error }}</p>
              {% endfor %}
            </div>
          {% endif %}
        </div>

        <button type="submit" class="btn btn-primary btn-lg mt-4">Изменить пароль</button>
      </div>
    </form>
  </div>
{% endblock %}
